<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>For Jenna ‚ù§Ô∏è</title>
  <link href="https://fonts.googleapis.com/css2?family=Sacramento&family=Poppins:wght@300&display=swap" rel="stylesheet">
  <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
  <style>
    * { box-sizing: border-box; }
    body {
      margin: 0;
      padding: 0;
      font-family: 'Georgia', serif;
      background-image: url('background.jpg');
      background-size: cover;
      background-position: center;
      color: #fff;
      text-align: center;
      scroll-behavior: smooth;
      overflow-x: hidden;
    }

    #loader {
      position: fixed;
      top: 0; left: 0;
      width: 100vw; height: 100vh;
      background: pink;
      display: flex;
      justify-content: center;
      align-items: center;
      font-size: 2em;
      z-index: 9999;
    }

    .container {
      padding: 50px 20px;
    }

    h1 {
      font-family: 'Sacramento', cursive;
      font-size: 4em;
      color: #ff5c8f;
      margin-bottom: 20px;
      animation: slideIn 2s ease-out;
    }

    @keyframes slideIn {
      from { transform: translateY(-50px); opacity: 0; }
      to { transform: translateY(0); opacity: 1; }
    }

    .message-box {
      background-color: rgba(255, 192, 203, 0.85);
      padding: 30px;
      border-radius: 20px;
      max-width: 700px;
      margin: 0 auto 40px;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
    }

    p {
      font-family: 'Poppins', sans-serif;
      font-size: 1.2em;
      line-height: 1.6;
      font-weight: 300;
      margin: 0;
    }

    .heart {
      font-size: 2.5em;
      color: red;
      animation: beat 1s infinite alternate;
      margin-bottom: 30px;
    }

    @keyframes beat {
      from { transform: scale(1); }
      to { transform: scale(1.2); }
    }

    .gallery {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
      gap: 20px;
      margin-top: 30px;
    }

    .gallery img {
      width: 100%;
      height: auto;
      object-fit: cover;
      aspect-ratio: 4 / 3;
      border-radius: 15px;
      box-shadow: 0 6px 12px rgba(0,0,0,0.1);
      transition: transform 0.3s ease, box-shadow 0.3s ease;
    }

    .gallery img:hover {
      transform: scale(1.05);
      box-shadow: 0 8px 18px rgba(0,0,0,0.2);
    }

    .button {
      display: inline-block;
      padding: 15px 30px;
      font-size: 1.2em;
      background-color: #ff5c8f;
      color: white;
      border: none;
      border-radius: 30px;
      transition: background-color 0.3s ease;
      margin-top: 30px;
      cursor: pointer;
    }

    .button:hover {
      background-color: #ff3b75;
    }

    footer {
      margin-top: 40px;
      font-size: 0.9em;
      color: #ccc;
    }

    #special-message {
      display: none;
      margin-top: 40px;
      background-color: rgba(255, 255, 255, 0.1);
      border: 2px dashed #ff5c8f;
      padding: 30px;
      border-radius: 20px;
      animation: fadeIn 1s ease-in-out forwards;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(30px); }
      to { opacity: 1; transform: translateY(0); }
    }

    /* Game styling */
    #game-container {
      position: relative;
      height: 300px;
      margin-top: 50px;
      overflow: hidden;
      background: rgba(255, 255, 255, 0.1);
      border-radius: 20px;
      border: 2px dashed pink;
    }

    .falling-heart {
      position: absolute;
      font-size: 2em;
      color: #ff5c8f;
      user-select: none;
      cursor: pointer;
      animation: fall linear;
      transition: transform 0.2s;
    }

    .falling-heart:active {
      transform: scale(1.5);
    }

    @keyframes fall {
      0% { top: -40px; opacity: 1; }
      100% { top: 100%; opacity: 0; }
    }

    #score-board {
      font-size: 1.3em;
      margin: 20px 0;
      color: #ffadd1;
      font-family: 'Poppins', sans-serif;
    }

    /* Bubbles */
    #bubbles {
      position: absolute;
      top: 0; left: 0;
      width: 100%; height: 100%;
      pointer-events: none;
      z-index: 10;
    }

    .bubble {
      position: absolute;
      background-color: rgba(255, 255, 255, 0.7);
      border-radius: 50%;
      animation: bubble 10s infinite ease-in-out;
    }

    @keyframes bubble {
      from { transform: translateY(100%) scale(0.5); opacity: 0; }
      to { transform: translateY(-100%) scale(1); opacity: 1; }
    }

    /* Date Planner */
    #date-planner {
      background: rgba(255, 255, 255, 0.1);
      padding: 30px;
      border-radius: 20px;
      margin: 40px auto;
      max-width: 700px;
      text-align: left;
      color: #fff;
    }

    #date-planner label {
      display: block;
      margin: 15px 0 5px;
      font-family: 'Poppins', sans-serif;
    }

    #date-planner select {
      width: 100%;
      padding: 10px;
      border-radius: 10px;
      border: none;
      font-size: 1em;
    }

    #plan-button {
      margin-top: 20px;
      background: #ff5c8f;
      color: #fff;
      border: none;
      padding: 15px 30px;
      font-size: 1.1em;
      border-radius: 30px;
      cursor: pointer;
      transition: background 0.3s;
    }

    #plan-button:hover {
      background: #ff3b75;
    }

    #plan-result {
      display: none;
      margin-top: -30px;
      padding: 40px 20px;
      font-family: 'Poppins', sans-serif;
      text-align: center;
      animation: fadeIn 1s ease;
    }

    .plan-card {
      background: rgba(255, 255, 255, 0.85);
      color: #333;
      border-radius: 15px;
      padding: 25px;
      margin: 30px auto;
      max-width: 600px;
      box-shadow: 0 8px 20px rgba(0,0,0,0.2);
      position: relative;
      overflow: hidden;
      transform-origin: center center;
    }

    .plan-card h3 {
      font-family: 'Sacramento', cursive;
      font-size: 2.2em;
      margin-bottom: 15px;
      color: #ff5c8f;
    }
    
    .heart-bg {
      position: absolute;
      font-size: 10em;
      opacity: 0.05;
      bottom: -40px;
      right: -20px;
      transform: rotate(15deg);
      z-index: 0;
    }
    
    .plan-section {
      margin: 15px 0;
      position: relative;
      z-index: 1;
      text-align: left;
    }
    
    .plan-section h4 {
      font-family: 'Poppins', sans-serif;
      color: #ff5c8f;
      margin-bottom: 5px;
      font-size: 1.2em;
    }
    
    .plan-footer {
      margin-top: 30px;
      font-style: italic;
      font-size: 0.9em;
    }
    
    .date-time {
      background: #ff5c8f;
      color: white;
      display: inline-block;
      padding: 8px 20px;
      border-radius: 20px;
      margin: 15px auto;
      font-weight: bold;
    }
    
    #bubbles {
      position: fixed;
      width: 100%;
      height: 100%;
      top: 0;
      left: 0;
      pointer-events: none;
      z-index: -1;
    }
    
    /* Add emoji buttons */
    .emoji-buttons {
      display: flex;
      justify-content: center;
      gap: 15px;
      margin: 30px 0;
    }
    
    .emoji-btn {
      background: white;
      border: none;
      border-radius: 50%;
      width: 50px;
      height: 50px;
      font-size: 1.5em;
      display: flex;
      justify-content: center;
      align-items: center;
      cursor: pointer;
      box-shadow: 0 4px 10px rgba(0,0,0,0.1);
      transition: transform 0.2s, box-shadow 0.2s;
    }
    
    .emoji-btn:hover {
      transform: scale(1.1);
      box-shadow: 0 6px 15px rgba(0,0,0,0.15);
    }
    
    /* Save as image button */
    #save-plan {
      background: #ff5c8f;
      color: white;
      border: none;
      border-radius: 30px;
      padding: 12px 25px;
      font-size: 1.1em;
      cursor: pointer;
      margin-top: 20px;
      transition: background 0.3s;
      box-shadow: 0 4px 10px rgba(255,92,143,0.3);
    }
    
    #save-plan:hover {
      background: #ff3b75;
      box-shadow: 0 6px 15px rgba(255,92,143,0.4);
    }
    
    /* Add confetti effect */
    canvas#confetti {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 999;
    }
  </style>
</head>
<body>
  <div id="loader">Loading üíï</div>
  
  <div id="bubbles"></div>
  <canvas id="confetti"></canvas>

  <!-- Preload audio files -->
  <audio id="backgroundMusic" loop preload="auto">
    <source src="love-song.mp3" type="audio/mpeg">
  </audio>
  
  <audio id="heartSound" preload="auto">
    <source src="heart-pop.mp3" type="audio/mpeg">
  </audio>
  
  <audio id="specialSound" preload="auto">
    <source src="special-sound.mp3" type="audio/mpeg">
  </audio>

  <div class="container">
    <h1 data-aos="fade-down">For Jenna ‚ù§Ô∏è</h1>

    <div class="message-box" data-aos="zoom-in">
      <p>
        Hi babe. I know I can't always buy you things, but I made you this instead.<br><br>
        You mean the world to me. Your laugh, your eyes, the way you make everything better ‚Äî I love it all.<br><br>
        Every day with you is a blessing. This page is just a little digital love letter to say Happy Birthday & remind you:<br>
        <strong>I love you endlessly</strong>
      </p>
    </div>

    <div class="heart">üíñ</div>

    <div class="gallery" data-aos="fade-up">
      <img src="us1.jpg" alt="Us 1" />
      <img src="us2.jpg" alt="Us 2" />
      <img src="us3.jpg" alt="Us 3" />
      <img src="us4.jpg" alt="Us 4" />
      <img src="us5.jpg" alt="Us 5" />
      <img src="us6.jpg" alt="Us 6" />
      <img src="us7.jpg" alt="Us 7" />
      <img src="us8.jpg" alt="Us 8" />
      <img src="us9.jpg" alt="Us 9" />
      <img src="us10.jpg" alt="Us 10" />
      <img src="us11.jpg" alt="Us 11" />
      <img src="us12.jpg" alt="Us 12" />
      <img src="us13.jpg" alt="Us 13" />
      <!-- more images -->
    </div>

    <button class="button" onclick="showSurprise()">Click for a Special Surprise ‚ú®</button>

    <div id="special-message">
      <p style="font-size:1.4em;">
         Check the bottom of this page for your bday plans for this Saturday!<br><br>
        Reminder: You're my home, my heart, my everything. üíï<br>
        <strong>Forever yours,<br>Delvys</strong>
      </p>
    </div>

    <div id="score-board">Catch the Hearts üíó Score: <span id="score">0</span></div>
    <div id="game-container"></div>

    <div id="date-planner" data-aos="fade-up">
      <h2 style="font-family:'Sacramento', cursive;">Plan Our Date üåü</h2>
      <label for="activity">Pre-Dinner Activity:</label>
      <select id="activity">
        <option>Beach Walk</option>
        <option>Museum</option>
        <option>Massage</option>
        <option>Pic-Nic at the Park</option>
      </select>

      <label for="dinner">Dinner Spot:</label>
      <select id="dinner">
        <option>Italian</option>
        <option>Sushi/Chinese</option>
        <option>Steakhouse</option>
        <option>Buffet</option>
      </select>

      <label for="movie">Movie Choice:</label>
      <select id="movie">
        <option>Action</option>
        <option>Anime</option>
        <option>Comedy</option>
        <option>Horror/Thriller</option>
      </select>

      <label for="dessert">Dessert:</label>
      <select id="dessert">
        <option>Chocolate Cake</option>
        <option>Ice Cream</option>
        <option>Cookies</option>
        <option>Cheesecake</option>
      </select>

      <button id="plan-button" onclick="showPlan()">Create Our Perfect Date ‚ú®</button>

      <div id="plan-result">
        <div class="plan-card" id="date-card">
          <div class="heart-bg">üíù</div>
          <h3>Our Perfect Date</h3>
          
          <div class="date-time">Saturday, 8:00 PM</div>
          
          <div class="plan-section">
            <h4>Starting Our Day üå§Ô∏è</h4>
            <p id="activity-desc">We'll enjoy a beautiful walk along the beach, holding hands and watching the waves.</p>
          </div>
          
          <div class="plan-section">
            <h4>Dinner Together üçΩÔ∏è</h4>
            <p id="dinner-desc">A cozy Italian restaurant with candlelight, pasta, and wine.</p>
          </div>
          
          <div class="plan-section">
            <h4>Evening Entertainment üé¨</h4>
            <p id="movie-desc">We'll cuddle up watching an action movie with popcorn.</p>
          </div>
          
          <div class="plan-section">
            <h4>Sweet Ending üç¶</h4>
            <p id="dessert-desc">Sharing a delicious chocolate cake to end our perfect day.</p>
          </div>
          
          <div class="plan-footer">
            <p>With all my love, Delvys üíï</p>
          </div>
        </div>
        
        <div class="emoji-buttons">
          <button class="emoji-btn" onclick="addReaction('‚ù§Ô∏è')">‚ù§Ô∏è</button>
          <button class="emoji-btn" onclick="addReaction('üòç')">üòç</button>
          <button class="emoji-btn" onclick="addReaction('ü•∞')">ü•∞</button>
          <button class="emoji-btn" onclick="addReaction('üíØ')">üíØ</button>
        </div>
        
        <button id="save-plan" onclick="captureScreenshot()">Save Our Date Plan üì±</button>
      </div>
    </div>

    <footer>Hand-coded with love üíï - By Delvys</footer>
  </div>

  <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
  <script>
    // Initialize AOS
    AOS.init();
    
    // Handle background music
    const bgMusic = document.getElementById('backgroundMusic');
    const heartSound = document.getElementById('heartSound');
    const specialSound = document.getElementById('specialSound');
    
    // Start background music when user interacts with the page
    document.addEventListener('click', function() {
      if (bgMusic.paused) {
        bgMusic.play().catch(err => console.log('Audio play failed:', err));
      }
    }, {once: true});
    
    // Handle loader
    window.addEventListener('load', () => {
      document.getElementById('loader').style.display = 'none';
    });
    
    // Special surprise
    function showSurprise() {
      document.getElementById('special-message').style.display = 'block';
      specialSound.play().catch(err => console.log('Special sound play failed:', err));
      launchConfetti();
    }
    
    // Heart game
    const gameContainer = document.getElementById('game-container');
    const scoreDisplay = document.getElementById('score');
    let score = 0;
    
    function createHeart() {
      const heart = document.createElement('div');
      heart.className = 'falling-heart';
      heart.textContent = 'üíó';
      heart.style.left = Math.random() * 90 + '%';
      heart.style.animationDuration = (Math.random() * 2 + 3) + 's';
      
      heart.addEventListener('click', () => {
        score++;
        scoreDisplay.textContent = score;
        
        // Play sound when heart is clicked
        heartSound.currentTime = 0;
        heartSound.play().catch(err => console.log('Heart sound play failed:', err));
        
        // Visual feedback
        heart.style.transform = 'scale(1.5)';
        heart.style.opacity = '0';
        setTimeout(() => heart.remove(), 300);
      });
      
      gameContainer.appendChild(heart);
      setTimeout(() => {
        if (heart.parentNode === gameContainer) {
          heart.remove();
        }
      }, 6000);
    }
    
    setInterval(createHeart, 1000);
    
    // Bubbles
    function createBubble() {
      const bubble = document.createElement('div');
      bubble.className = 'bubble';
      bubble.style.left = Math.random() * 100 + 'vw';
      bubble.style.width = bubble.style.height = Math.random() * 10 + 10 + 'px';
      bubble.style.animationDuration = Math.random() * 5 + 5 + 's';
      document.getElementById('bubbles').appendChild(bubble);
      setTimeout(() => bubble.remove(), 10000);
    }
    
    setInterval(createBubble, 600);
    
    // Date planner
    const activityDescriptions = {
      "Beach Walk": "We'll enjoy a beautiful walk along the beach, holding hands and watching the waves.",
      "Museum": "We'll explore fascinating exhibits at the museum, discovering new things together.",
      "Massage": "We'll treat ourselves to a relaxing couple's massage, melting away stress.",
      "Pic-Nic at the Park": "We'll spread a blanket in the park with our favorite foods and enjoy nature together."
    };
    
    const dinnerDescriptions = {
      "Italian": "A cozy Italian restaurant with candlelight, pasta, and wine.",
      "Sushi/Chinese": "Delicious sushi and Chinese dishes that we'll share family-style.",
      "Steakhouse": "A fancy steakhouse with the perfect ambiance for a special night.",
      "Buffet": "An incredible buffet where we can try a bit of everything we love."
    };
    
    const movieDescriptions = {
      "Action": "We'll enjoy an exciting action movie with epic scenes and adventures.",
      "Anime": "We'll watch a beautiful anime with a touching story that we'll remember.",
      "Comedy": "We'll laugh together at a hilarious comedy that keeps us smiling.",
      "Horror/Thriller": "We'll cuddle close during a scary movie, holding hands through the jumpy parts."
    };
    
    const dessertDescriptions = {
      "Chocolate Cake": "Sharing a rich, decadent chocolate cake that melts in our mouths.",
      "Ice Cream": "Cool, creamy ice cream with our favorite toppings.",
      "Cookies": "Warm, freshly-baked cookies that make the whole place smell amazing.",
      "Cheesecake": "Smooth, creamy cheesecake that's the perfect end to our perfect date."
    };
    
    function showPlan() {
      const activity = document.getElementById('activity').value;
      const dinner = document.getElementById('dinner').value;
      const movie = document.getElementById('movie').value;
      const dessert = document.getElementById('dessert').value;
      
      document.getElementById('activity-desc').textContent = activityDescriptions[activity];
      document.getElementById('dinner-desc').textContent = dinnerDescriptions[dinner];
      document.getElementById('movie-desc').textContent = movieDescriptions[movie];
      document.getElementById('dessert-desc').textContent = dessertDescriptions[dessert];
      
      document.getElementById('plan-result').style.display = 'block';
      
      // Scroll to results
      setTimeout(() => {
        document.getElementById('plan-result').scrollIntoView({behavior: 'smooth'});
      }, 100);
      
      // Show confetti
      launchConfetti();
    }
    
    // Add reaction
    function addReaction(emoji) {
      const reaction = document.createElement('div');
      reaction.textContent = emoji;
      reaction.style.position = 'absolute';
      reaction.style.fontSize = '3em';
      reaction.style.left = Math.random() * 80 + 10 + '%';
      reaction.style.top = Math.random() * 200 + 100 + 'px';
      reaction.style.opacity = '1';
      reaction.style.transition = 'all 1s ease-out';
      reaction.style.zIndex = '100';
      
      document.getElementById('date-card').appendChild(reaction);
      
      setTimeout(() => {
        reaction.style.transform = 'translateY(-100px)';
        reaction.style.opacity = '0';
      }, 50);
      
      setTimeout(() => reaction.remove(), 1000);
    }
    
    // Save as image - with fixed capture
    function captureScreenshot() {
      const card = document.getElementById('date-card');
      
      // Ensure proper sizing and positioning for capture
      const originalPosition = card.style.position;
      const originalZIndex = card.style.zIndex;
      const originalTransform = card.style.transform;
      
      // Temporarily modify for better capture
      card.style.position = 'relative';
      card.style.zIndex = '9999';
      card.style.transform = 'none';
      
      // Add some padding for the capture
      const padding = 20;
      
      // Use html2canvas with proper options
      html2canvas(card, {
        backgroundColor: null,
        useCORS: true,
        allowTaint: true,
        scale: 2, // Higher quality
        logging: false,
        windowWidth: document.documentElement.offsetWidth,
        windowHeight: document.documentElement.offsetHeight,
        x: -padding,
        y: -padding,
        width: card.offsetWidth + (padding * 2),
        height: card.offsetHeight + (padding * 2)
      }).then(canvas => {
        // Create download link
        const link = document.createElement('a');
        link.download = 'Our-Perfect-Date-Plan.png';
        link.href = canvas.toDataURL('image/png');
        link.click();
        
        // Restore original styles
        card.style.position = originalPosition;
        card.style.zIndex = originalZIndex;
        card.style.transform = originalTransform;
      }).catch(err => {
        console.error('Screenshot error:', err);
        alert('There was an issue creating your date plan image. Please try again!');
      });
    }
    
    // Confetti effect
    function launchConfetti() {
      const canvas = document.getElementById('confetti');
      const ctx = canvas.getContext('2d');
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;
      
      const confettiCount = 200;
      const confetti = [];
      
      // Create confetti pieces
      for (let i = 0; i < confettiCount; i++) {
        confetti.push({
          x: Math.random() * canvas.width,
          y: Math.random() * canvas.height - canvas.height,
          size: Math.random() * 6 + 3,
          color: ['#ff5c8f', '#ffadd1', '#ffffff', '#ff85ad'][Math.floor(Math.random() * 4)],
          speed: Math.random() * 3 + 2,
          angle: Math.random() * 6.28,
          spin: Math.random() * 0.2 - 0.1
        });
      }
      
      function drawConfetti() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        
        let stillActive = false;
        
        confetti.forEach(piece => {
          if (piece.y < canvas.height) {
            stillActive = true;
            
            piece.y += piece.speed;
            piece.angle += piece.spin;
            
            ctx.save();
            ctx.translate(piece.x, piece.y);
            ctx.rotate(piece.angle);
            
            ctx.fillStyle = piece.color;
            ctx.fillRect(-piece.size/2, -piece.size/2, piece.size, piece.size);
            
            ctx.restore();
          }
        });
        
        if (stillActive) {
          requestAnimationFrame(drawConfetti);
        } else {
          ctx.clearRect(0, 0, canvas.width, canvas.height);
        }
      }
      
      drawConfetti();
    }
  </script>
</body>
</html>
